
// ðŸ”¥ Firebase Configuration
const firebaseConfig = {
    apiKey: "AIzaSyAD5P-NzVmxYwklc2TCkI0Iqug2RdrRjno  // ðŸ”´ ÛŒÛØ§Úº Ø§Ù¾Ù†ÛŒ Firebase API Key Ù„Ú¯Ø§Ø¦ÛŒÚº
    authDomain: " AIzaSyAD5P-NzVmxYwklc2TCkI0Iqug2RdrRjno// ðŸ”´ ÛŒÛØ§Úº Ø§Ù¾Ù†ÛŒ Firebase Auth Domain Ù„Ú¯Ø§Ø¦ÛŒÚº
    projectId: "  AIzaSyAD5P-NzVmxYwklc2TCkI0Iqug2RdrRjno// ðŸ”´ ÛŒÛØ§Úº Ø§Ù¾Ù†ÛŒ Firebase Project ID Ù„Ú¯Ø§Ø¦ÛŒÚº
    storageBucket: "AIzaSyAD5P-NzVmxYwklc2TCkI0Iqug2RdrRjno // ðŸ”´ ÛŒÛØ§Úº Ø§Ù¾Ù†ÛŒ Firebase Storage Bucket Ù„Ú¯Ø§Ø¦ÛŒÚº
    messagingSenderId: "AIzaSyAD5P-NzVmxYwklc2TCkI0Iqug2RdrRjno // ðŸ”´ ÛŒÛØ§Úº Ø§Ù¾Ù†ÛŒ Firebase Messaging Sender ID Ù„Ú¯Ø§Ø¦ÛŒÚº
    appId: AIzaSyAD5P-NzVmxYwklc2TCkI0Iqug2RdrRjno // ðŸ”´ ÛŒÛØ§Úº Ø§Ù¾Ù†ÛŒ Firebase App ID Ù„Ú¯Ø§Ø¦ÛŒÚº
};

// ðŸ”¥ Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// ðŸ”‘ Sign In with Google
function signIn() {
    const provider = new firebase.auth.GoogleAuthProvider();
    auth.signInWithPopup(provider)
        .then(result => {
            alert("Logged in as " + result.user.displayName);
        })
        .catch(error => {
            console.error(error.message);
        });
}

// ðŸŽ¯ Complete Task & Earn Coins
function completeTask() {
    const user = auth.currentUser;
    if (user) {
        db.collection("users").doc(user.uid).update({
            coins: firebase.firestore.FieldValue.increment(5) // ðŸŽ ÛØ± Ù¹Ø§Ø³Ú© Ù¾Ø± 5 Ú©ÙˆØ§Ø¦Ù†Ø² Ù…Ù„ÛŒÚº Ú¯Û’
        });
        alert("Task completed! You earned 5 coins.");
    } else {
        alert("Please log in first.");
    }
}

// ðŸ’° Withdrawal Function
function withdraw() {
    const user = auth.currentUser;
    if (user) {
        db.collection("users").doc(user.uid).get().then(doc => {
            if (doc.exists && doc.data().coins >= 15000) { // âœ… 15,000 Coins Minimum
                alert("Withdrawal request sent!");
                db.collection("users").doc(user.uid).update({ coins: 0 });
            } else {
                alert("Not enough coins to withdraw!");
            }
        });
    } else {
        alert("Please log in first.");
    }
}
